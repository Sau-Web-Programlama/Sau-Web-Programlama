@model IEnumerable<SporSalonu2.Models.Trainer>

@{
    ViewData["Title"] = "Uzman Antrenörlerimiz";
}

<style>
    /* IZGARA SİSTEMİ (En Önemli Kısım) */
    .trainers-grid-wrapper {
        display: grid;
        /* Masaüstünde (geniş ekran) yan yana 4 tane zorla */
        grid-template-columns: repeat(4, 1fr);
        gap: 25px; /* Kartlar arası boşluk */
        padding: 20px 0;
    }

    /* Tabletler için (ekran küçülünce) yan yana 2 tane olsun */
    @@media (max-width: 1200px) {
        .trainers-grid-wrapper

    {
        grid-template-columns: repeat(2, 1fr);
    }

    }

    /* Telefonlar için (çok küçük ekran) alt alta 1 tane olsun */
    @@media (max-width: 768px) {
        .trainers-grid-wrapper

    {
        grid-template-columns: 1fr;
    }

    }

    /* --- KART TASARIMI --- */
    .trainer-card {
        background-color: #1e272e;
        border: 1px solid #2f3640;
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%; /* Kartların boyunu eşitler */
        display: flex;
        flex-direction: column;
        position: relative;
    }

        .trainer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            border-color: #00d2d3;
        }

    .card-header-gradient {
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .gradient-1 {
        background: linear-gradient(135deg, #00b894, #0984e3);
    }

    .gradient-2 {
        background: linear-gradient(135deg, #e17055, #d63031);
    }

    .gradient-3 {
        background: linear-gradient(135deg, #6c5ce7, #a29bfe);
    }

    .gradient-4 {
        background: linear-gradient(135deg, #fdcb6e, #e17055);
    }

    .trainer-avatar-shield {
        width: 70px;
        height: 80px;
        background-color: #2f3640;
        color: #00d2d3;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
        font-weight: bold;
        position: absolute;
        bottom: -40px;
        clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        z-index: 2;
    }

    .card-body-custom {
        padding: 50px 15px 20px 15px;
        text-align: center;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .trainer-name {
        color: #fff;
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 5px;
    }

    .trainer-specialty {
        color: #00d2d3;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        margin-bottom: 10px;
        letter-spacing: 0.5px;
        min-height: 35px;
    }

    .trainer-bio {
        color: #b2bec3;
        font-size: 0.85rem;
        line-height: 1.4;
        margin-bottom: 15px;
        flex-grow: 1;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .btn-book {
        background-color: #00d2d3;
        color: #1e272e;
        font-weight: 800;
        border-radius: 50px;
        padding: 10px 0;
        width: 100%;
        border: none;
        transition: all 0.2s;
        text-transform: uppercase;
        font-size: 0.9rem;
        text-decoration: none;
        display: inline-block;
    }

        .btn-book:hover {
            background-color: #00b894;
            color: #fff;
        }
</style>

<div class="container" style="margin-top: 50px; margin-bottom: 80px;">

    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold text-white">Uzman Kadromuz</h2>
        <p class="text-muted">Hedeflerinize ulaşmanız için profesyonel destek.</p>
    </div>

    @if (!Model.Any())
    {
        <div class="text-center text-white">
            <div class="p-5 border border-secondary rounded-3 bg-dark">
                <h3>Henüz antrenör eklenmemiş.</h3>
            </div>
        </div>
    }
    else
    {
        <div class="trainers-grid-wrapper">
            @{
                int counter = 0;
                string[] gradients = { "gradient-1", "gradient-2", "gradient-3", "gradient-4" };

                foreach (var item in Model)
                {
                    string currentGradient = gradients[counter % gradients.Length];
                    counter++;

                    // BURADA ARTIK 'col-lg-3' GİBİ CLASSLARA İHTİYAÇ YOK.
                    // DOĞRUDAN KARTI KOYUYORUZ, CSS BUNU IZGARAYA OTURTACAK.

                    <div class="trainer-card">
                        <div class="card-header-gradient @currentGradient">
                            <div class="trainer-avatar-shield">
                                @(string.IsNullOrEmpty(item.FirstName) ? "?" : item.FirstName.Substring(0, 1))
                            </div>
                        </div>

                        <div class="card-body-custom">
                            <h3 class="trainer-name">@item.FirstName @item.LastName</h3>
                            <div class="trainer-specialty">@item.Specialty</div>

                            <div class="trainer-bio">
                                @if (!string.IsNullOrEmpty(item.Bio))
                                {
                                    @item.Bio
                                }
                                else
                                {
                                    <span>Deneyimli eğitmenimiz, hedeflerinize ulaşmanız için sizi bekliyor.</span>
                                }
                            </div>

                            <a asp-controller="Booking" asp-action="Index" class="btn btn-book mt-auto">
                                RANDEVU AL
                            </a>
                        </div>
                    </div>
                }
            }
        </div>
    }
</div>